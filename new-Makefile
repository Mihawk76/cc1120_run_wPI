CC = gcc
INCLUDE = -I/usr/local/include
CFLAGS = $(DEBUG) -Wall $(INCLUDE) -Winline -pipe
LDFLAGS = -L/usr/local/lib
LDLIBS  = -lwiringPi -lwiringPiDev -lm -lcurl -lpthread -lrt
DEPS = paring.h
OBJ = cc1120_run.o paring.o
MYSQL_LIBS := $(shell mysql_config --libs --cflags)

%.o: %.c $(DEPS)
	$(CC) $(CFLAGS) -c -o $@ $(LDFLAGS) $(LDLIBS) $(MYSQL_LIBS) $<

cc1120_run: $(OBJ)
	gcc $(CFLAGS) -o $@ $(LDFLAGS) $(LDLIBS) $(MYSQL_LIBS) $^
